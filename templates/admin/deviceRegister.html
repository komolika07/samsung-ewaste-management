<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Register Device | Samsung Eâ€‘Waste</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/deviceRegi.css') }}">
</head>

<body>

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="logo">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="logo">
    </div>
    <div class="links">
      <a href="#">Dashboard</a>
      <a href="#registration">Register Device</a>
      <a href="#sorting">Sorting & Inspection</a>
      <a href="#refurbishable">Refurbishable</a>
      <a href="#recyclable">Recyclable</a>
      <a href="#rejected">Rejected</a>
    </div>
  </div>

  <!-- MAIN -->
  <div class="main">
    <div class="content-wrapper">
      <div class="container">
        <h2>Device Registration Form</h2>

        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
          <p class="flash {{ category }}">{{ message }}</p>
          {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <form method="POST" action="{{ url_for('admin.register_device') }}" class="device-form">
          {{ form.hidden_tag() }}

          <div class="form-grid">
            <div class="form-group">
              {{ form.serial_number.label }}
              {{ form.serial_number(class_="input-field", placeholder="Enter Serial Number") }}
            </div>

            <div class="form-group">
              {{ form.device_type.label }}
              {{ form.device_type(class_="input-field", placeholder="Mobile, Laptop, TV etc.") }}
            </div>

            <div class="form-group">
              {{ form.brand.label }}
              {{ form.brand(class_="input-field", readonly=True) }}
            </div>

            <div class="form-group">
              {{ form.model.label }}
              {{ form.model(class_="input-field", placeholder="Enter Model") }}
            </div>

            <div class="form-group">
              {{ form.device_condition.label }}
              {{ form.device_condition(class_="input-field") }}
            </div>

            <div class="form-group">
              {{ form.center.label }}
              {{ form.center(class_="input-field") }}
            </div>

            <div class="form-group">
              {{ form.manufacture_date.label }}
              {{ form.manufacture_date(class_="input-field") }}
            </div>

            <div class="form-group">
              {{ form.received_date.label }}
              {{ form.received_date(class_="input-field", readonly=True) }}
            </div>

            <div class="form-group full-width">
              {{ form.notes.label }}
              {{ form.notes(class_="input-field", rows=3) }}
            </div>
          </div>

          <div class="form-actions">
            {{ form.submit(class_="btn") }}
          </div>
        </form>




      </div>
    </div>
  </div>

  <script>
    // Show/hide center dropdown if condition is "Not Working"
    const condition = document.getElementById('device_condition');
    const centerDiv = document.getElementById('centerSelect');
    condition.addEventListener('change', function () {
      centerDiv.style.display = this.value === 'Not Working' ? 'block' : 'none';
    });
  </script>

</body>

</html>